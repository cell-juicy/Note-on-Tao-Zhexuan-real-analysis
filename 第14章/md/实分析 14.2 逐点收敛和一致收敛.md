# 14.2 逐点收敛和一致收敛

## 定义

1. <font color=red>（14.2.1 逐点收敛）</font>设$(f^{(n)})_{n=1}^\infty$是从度量空间$(X,d_X)$到另一个度量空间$(Y,d_Y)$的函数序列，并设$f:X\to Y$是一个函数。如果对所有的$x\in X$都有
   $$
   \lim_{n\to\infty}f^{(n)}(x)=f(x)
   $$
   也即
   $$
   \lim_{n\to\infty}d_Y(f^{(n)}(x),f(x))=0
   $$
   那么我们称$(f^{(n)})_{n=1}^\infty$**在**$X$**上逐点收敛于**$f$。也就是说对每一个$x$和任意的$\varepsilon>0$，都存在一个$N>0$使得对所有的$n>N$都有$d_Y(f^{(n)}(x),f(x))<\varepsilon$。我们称函数$f$为函数序列$f^{(n)}$的**逐点极限**。

   <font color=blue>（注：事实上在这里我们并没有用到$X$是一个度量空间的前提，对逐点收敛的定义而言只需要$X$是一个纯粹的集合就行了，但是当我们考察$X$到$Y$上的连续函数时我们需要用到$X$上的度量，或者至少需要一个拓扑结构；由[命题12.1.20](..\..\第12章\md\实分析 12.1 定义和例子.md)可以得到一个函数序列最多有一个逐点极限；逐点收敛时一个相当自然的概念，但是它的缺陷很多，例如它不能保持连续性，导数运算，极限运算和积分运算，具体的例子可以参考原书例14.2.4到例14.2.6）</font>

2. <font color=red>（14.2.7 一致收敛）</font>设$(f^{(n)})_{n=1}^\infty$是从度量空间$(X,d_X)$到另一个度量空间$(Y,d_Y)$的函数序列，并设$f:X\to Y$是一个函数。如果对于任意的$\varepsilon>0$，存在一个$N>0$使得对所有的$n\geq N$和所有的$x\in X$都有$d_Y(f^{(n)}(x),f(x))<\varepsilon$，那么我们称$(f^{(n)})_{n=1}^\infty$**在**$X$**上一致收敛于**$f$，并把函数$f$称为函数序列$f^{(n)}$的**一致极限**。

   <font color=blue>（注：一致收敛与逐点收敛的最大区别在于逐点收敛的$N$依赖于$\varepsilon$与$x$的选取，而一致收敛的$N$只与$\varepsilon$的选取相关，这表明$f^{(n)}$一致收敛于$f$关于$x$是**一致的**；很显然一致收敛的函数序列都是逐点收敛的，但是反过来就不一定；最后，无论是一致收敛还是逐点收敛，函数序列$f^{(n)}$的收敛性都会继承到限制函数序列$f^{(n)}|_E$上）</font>

---

## 课后习题

##### 14.2.1 本题的目的是阐述连续性和逐点收敛之间的具体联系，以及一致连续性和一致收敛性之间的具体联系。设$f:\mathbb R\to\mathbb R$是一个函数。对于任意的$a\in\mathbb R$，设$f_{a}:\mathbb R\to\mathbb R$是平移函数$f_a(x):=f(x-a)$

###### (a) 证明：$f$是连续的，当且仅当只要$(a_n)_{n=0}^\infty$是收敛于$0$的实数序列，平移函数序列$f_{a_n}$就逐点收敛于$f$

> 分别证明充分必要性：
>
> 若$f$是连续的，则对任意$\varepsilon>0$与任意的$x_0\in\mathbb R$，存在一个$\delta>0$使得对任意$x\in\mathbb R$满足$|x-x_0|<\delta$都有$|f(x)-f(x_0)|<\varepsilon$。又因为$(a_n)_{n=0}^\infty$是收敛于$0$的实数序列，因此存在一个$N\geq 0$使得对任意$n\geq N$都有$|a_n|<\delta$。从而我们可以组合这些结论得到：对任意$\varepsilon>0$与任意的$x_0\in\mathbb R$，存在一个$N\geq 0$使得对所有的$n\geq N$都有：
> $$
> |x_0-(x_0-a_n)|<\delta\Longrightarrow|f(x_0)-f(x_0-a_n)|<\varepsilon
> $$
> 也就是$|f(x_0)-f_{a_n}(x_0)|<\varepsilon$。于是根据定义14.2.1即有平移函数序列$f_{a_n}$逐点收敛于$f$。
>
> 反过来，若对任意$(a_n)_{n=0}^\infty$是收敛于$0$的实数序列都有平移函数序列$f_{a_n}$逐点收敛于$f$。我们使用反证法，假设$f$不是连续的，那么存在某个$x_0\in\mathbb R$使得存在某个$\varepsilon>0$，对任意$\delta>0$都存在$x\in\mathbb R$满足$|x-x_0|<\delta$与$|f(x)-f(x_0)|\geq\varepsilon$。
>
> 于是考虑任意的自然数$n$，我们使用选择公理指定一个$a_n\in\mathbb R$满足$\displaystyle|(x_0-a_n)-x_0|<\frac{1}{n}$且$|f(x_0-a_n)-f(x_0)|\geq\varepsilon$（事实上这一步应该先找到一个$b_n$，然后令有$a_n:=x_0-b_n$，这里省略了）。显然$(a_n)_{n=0}^\infty$是一个收敛于$0$的序列，然后注意到根据比较原理，对$x_0$我们有：
> $$
> \lim_{n\to\infty}|f_{a_n}(x_0)-f(x_0)|=\lim_{n\to\infty}|f(x_0-a_n)-f(x_0)|\geq\varepsilon>0
> $$
> 这和逐点收敛的要求矛盾（逐点收敛要求$\displaystyle\lim_{n\to\infty}|f_{a_n}(x_0)-f(x_0)|=0$），因此反证假设不成立，只能有$f$是连续的。
>
> 综上，于是结论得证。

###### (b) 证明：$f$是一致连续的，当且仅当只要$(a_n)_{n=0}^\infty$是收敛于$0$的实数序列，平移函数序列$f_{a_n}$就一致收敛于$f$

> 分别证明充分必要性：
>
> 若$f$是一致连续的，则对任意$\varepsilon>0$，存在一个$\delta>0$使得对任意$x$，$x'\in\mathbb R$满足$|x-x'|<\delta$都有$|f(x)-f(x')|<\varepsilon$。又因为$(a_n)_{n=0}^\infty$是收敛于$0$的实数序列，因此存在一个$N\geq 0$使得对任意$n\geq N$都有$|a_n|<\delta$。从而我们可以组合这些结论得到：对任意$\varepsilon>0$，存在一个$N\geq 0$使得对所有的$n\geq N$与$x\in\mathbb R$都有：
> $$
> |x-(x-a_n)|<\delta\Longrightarrow|f(x)-f(x-a_n)|<\varepsilon
> $$
> 也就是$|f(x)-f_{a_n}(x)|<\varepsilon$。于是根据定义14.2.1即有平移函数序列$f_{a_n}$一致收敛于$f$。
>
> 反过来，若对任意$(a_n)_{n=0}^\infty$是收敛于$0$的实数序列都有平移函数序列$f_{a_n}$一致收敛于$f$。我们使用反证法，假设$f$不是一致连续的，那么存在某个$\varepsilon>0$，对任意$\delta>0$存在一对$x$，$x'\in \mathbb R$满足$|x-x'|<\delta$与$|f(x)-f(x')|\geq\varepsilon$。
>
> 于是考虑任意的自然数$n$，我们使用选择公理可以为每一个$n$指定一个$x_n$与$x_n'$满足$\displaystyle|x_n-x'_n|<\frac{1}{n}$（为了下文讨论方便，这里我们不失一般性地假设$x_n<x_n'$）与$|f(x_n)-f(x_n')|\geq\varepsilon$，然后令有$a_n:=x_n'-x_n$。由于对任意自然数$n$都有$\displaystyle|a_n|<\frac{1}{n}$因此显然有序列$(a_n)_{n=0}^\infty$是一个收敛于$0$的序列。但是对$\varepsilon$，考虑任意的$N\geq 0$，根据上面的叙述都有存在$x_N'\in\mathbb R$使得
> $$
> |f_{a_N}(x'_N)-f(x'_N)|=|f(x_N)-f(x'_N)|\geq\varepsilon
> $$
> 这和一致收敛的要求矛盾（一致收敛要求至少存在一个$N\geq 0$使得对任意$n\geq N$都有$|f_{a_N}(x'_N)-f(x'_N)|<\varepsilon$），因此反证假设不成立，只能有$f$是一致连续的。
>
> 综上，于是结论得证。

##### 14.2.2 本题中我们讨论一致收敛于逐点收敛的关系与一些逐点收敛但不一致收敛的例子

###### (a) 设$(f^{(n)})_{n=1}^\infty$是从度量空间$(X,d_X)$到另一个度量空间$(Y,d_Y)$的函数序列，并设$f:X\to Y$是一个函数。证明：如果$f^{(n)}$一致收敛于$f$，那么$f^{(n)}$也逐点收敛于$f$

> 根据一致收敛的定义，于是对于任意的$\varepsilon>0$，存在一个$N>0$使得对所有的$n\geq N$和所有的$x\in X$都有$d_Y(f^{(n)}(x),f(x))<\varepsilon$。虽然$N$不依赖于$x$，但是也可以改写为对于任意的$\varepsilon>0$与$x\in X$，都存在$N>0$使得对任意的$n\geq N$有$d_Y(f^{(n)}(x),f(x))<\varepsilon$。于是根据定义14.2.1即有$f^{(n)}$逐点收敛于$f$。

###### (b) 对于每一个整数$n\geq 1$，设$f^{(n)}:(-1,1)\to\mathbb R$为函数$f^{(n)}(x):= x^n$。证明：$f^{(n)}$逐点收敛于零函数$0$，但不一致收敛于任何函数$f:(-1,1)\to\mathbb R$

> 对任意的$x\in(-1,1)$，根据命题6.5.2我们知道有$\displaystyle\lim_{n\to\infty}x^n=0$成立，因此根据定义14.2.1可以直接得到$f^{(n)}$逐点收敛于零函数$0$。
>
> 然后我们不妨使用反证法，假设$f^{(n)}$一致收敛于某个函数$f$，于是根据定义14.2.7对任意的$\varepsilon>0$都存在$N\geq 1$使得对任意的$n\geq N$与任意的$x\in(-1,1)$都有：
> $$
> |x^{n}-f(x)|\leq\varepsilon
> $$
> 我们特别考虑$\varepsilon\ll 0.1$是一个很小的数。由于$N$是给定的，并且考虑到$x^N$是一个连续函数，因此根据介值定理（考虑将$x^N$的定义域扩展到$[-1,1]$来寻找$c$，这里只是为了证明存在性，不需要真的扩大定义域）必然存在一个$c\in[0,1]$使得$c^N=1/2\in[0,1]$，特别地必然有$c\ne 1$，从而$c$属于$(-1,1)$（也就是$f^{(N)}$的定义域）。从而我们有：
> $$
> \left|c^{N}-f(c)\right|\leq\varepsilon\xRightarrow[c^{N}=1/2]{\varepsilon\ll 0.1}f(c)>\frac{1}{2}-0.1=0.4
> $$
> 然后考虑函数$f^{(3N)}$，由于$3N\geq N$于是我们也$$可以套用上面的结论，结合指数运算的法则即有：
> $$
> \left|c^{3N}-f(c)\right|\leq\varepsilon\xRightarrow[c^{3N}=1/8]{\varepsilon\ll 0.1}f(c)<\frac{1}{8}+0.1=0.225
> $$
> 由于垂线测试因此函数值应该是唯一的，不可能出现同时有$f(c)<0.225$与$f(c)>0.4$的实数。于是导出了矛盾，反证假设不成立，$f^{(n)}$不可能一致收敛于某个函数$f$。

###### (c) 设$g:(-1,1)\to\mathbb R$是函数$\displaystyle g(x):=\frac{x}{1-x}$。保持(b)中的记号，证明：当$N\to\infty$时，部分和序列$\displaystyle\sum_{n=1}^{N}f^{(n)}$在开区间$(-1,1)$上逐点收敛于$g$，但不一致收敛于$g$<font color=blue>（提示：利用[引理7.3.3](..\..\第7章\md\实分析 7.3 非负数的和.md)）</font>。如果把开区间$(-1,1)$换成闭区间$[-1,1]$，情况又如何

> 考虑到无限级数的定义因此引理7.3.3表明对任意的$x\in (-1,1)$都有极限：
> $$
> \lim_{N\to\infty}\displaystyle\sum_{n=1}^{N}f^{(n)}(x)=\frac{1}{1-x}-1=\frac{x}{1-x}
> $$
> 于是根据定义14.2.1即有部分和序列$\displaystyle\sum_{n=1}^{N}f^{(n)}$在开区间$(-1,1)$上逐点收敛于$g$。然后考虑证明部分和序列$\displaystyle\sum_{n=1}^{N}f^{(n)}$在开区间$(-1,1)$上不是一致收敛于$g$的。
>
> 注意到有：
> $$
> \forall\:N>0,\forall\:x\in(-1,1),g(x)-\displaystyle\sum_{n=1}^{N}f^{(n)}(x)=\frac{x}{1-x}-\frac{x-x^{N+1}}{1-x}=\frac{x^{N+1}}{1-x}
> $$
> 然后我们不妨使用反证法，假设$f^{(n)}$一致收敛于$g$，于是根据定义14.2.7对任意的$\varepsilon>0$都存在$N\geq 1$使得对任意的$n\geq N$与任意的$x\in(-1,1)$都有：
> $$
> \left|\frac{x^{N+1}}{1-x}\right|\leq\varepsilon
> $$
> 我们特别考虑$\varepsilon\ll 0.1$是一个很小的数。然后类似我们在(b)中使用介值定理的方法我们能找到一个$c\in(0,1)$使得$\displaystyle c^{N+1}=\frac{1}{2}$，然后由于$c\in(0,1)$于是必然有$\displaystyle\left|\frac{c^{N+1}}{1-c}\right|>\frac{1}{2}>\varepsilon$。于是导出了矛盾，从而反证假设不成立，只能有$f^{(n)}$不可能一致收敛于$g$。
>
> 把开区间改成闭区间$f^{(n)}$依然不一致收敛于$g$，但是同时$f^{(n)}$也不逐点收敛于$g$了，因为在$x=-1$处我们有：
> $$
> \lim_{N\to\infty}\displaystyle\sum_{n=1}^{N}f^{(n)}(-1)=\lim_{N\to\infty}(-1)^N\frac{1}{2}-\frac{1}{2}
> $$
> 显然是发散的，这和逐点收敛的定义相悖。

##### 14.2.3 设$(X,d_X)$是一个度量空间。对于每一个整数$n\geq 1$，设$f_n:X\to\mathbb R$是一个实值函数。设$f_n$在$X$上逐点收敛于另一个函数$f:X\to\mathbb R$，并设$h:\mathbb R\to\mathbb R$是一个连续函数。证明：函数序列$h\circ f_n$在$X$上逐点收敛于$h\circ f$

> 由于$f_n$在$X$上逐点收敛于另一个函数$f$，因此根据定义14.2.1，对任意的$x\in X$我们有：
> $$
> \lim_{n\to\infty}f_n(x)=f(x)
> $$
> 也即实数序列$(f_n(x))_{n=1}^\infty$依标准度量收敛于$f(x)$。然后由于$h$是一个连续函数，因此根据命题13.1.4(b)我们有序列$(h(f_n(x)))_{n=1}^\infty$收敛于$f(x)$，转化为复合函数的形式即有极限：
> $$
> \lim_{n\to\infty}h\circ f_n(x)=h\circ f(x)
> $$
> 由于这个极限对任意的$x\in X$都成立，因此根据定义14.2.1即有函数序列$h\circ f_n$在$X$上逐点收敛于$h\circ f$。

##### 14.2.4 设$f_n:X\to Y$是从度量空间$(X,d_X)$到另一个度量空间$(Y,d_Y)$的函数序列的有界函数序列。设$f_n$一致收敛于函数$f:X\to Y$，并设$f$是一个有界函数，即在$Y$中存在一个球$B_{(Y,d_Y)}(y_0,R)$使得对所有的$x\in X$都有$f(x)\in B_{(Y,d_Y)}(y_0,R)$。证明：函数序列$f_n$是<font color=red>一致连续的</font>。也就是说，在$Y$中存在一个球$B_{(Y,d_Y)}(y_0,R)$使得对所有的$x\in X$和所有的正整数$n$都有$f_n(x)\in B_{(Y,d_Y)}(y_0,R)$<font color=blue>（关于函数有界性的概念在[下一节](..\..\第14章\md\实分析 14.3 一致收敛性与连续性.md)会提到）</font>

> 根据一致收敛的定义，存在一个$N\geq 1$使得使得对任意对任意$n\geq N$与任意$x\in X$都有$d_Y(f_n(x),f(x))<1$。然后由于$f$是有界函数，因此存在一个$Y$中的度量球$B_{(Y,d_Y)}(y_0,r_0)$使得对任意$x\in X$都有$f(x)\in B_{(Y,d_Y)}(y_0,r_0)$。然后我们考虑任意的$n\geq N$与任意的$x\in X$，根据度量空间的三角不等式有：
> $$
> d_Y(f_n(x),y_0)\leq d(f_n(x),f(x))+d_Y(f(x),y_0)<r_0+1
> $$
> 然后对任意正整数$n<N$，由于$f_n$是有界函数于是存在度量球$B_{(Y,d_Y)}(y_n,r_n)$使得对任意$x\in X$都有$f(x)\in B_{(Y,d_Y)}(y_n,r_n)$。于是对任意$n<N$与任意$x\in X$，根据度量空间的三角不等式有：
> $$
> d_Y(f_n(x),y_0)\leq d(f_n(x),y_n)+d_Y(y_n,y_0)<r_n+d_Y(y_n,y_0)
> $$
> 又因为只有有限个正整数$n$满足$n<N$（准确点说就是$N-1$个），于是定义下面的集合：
> $$
> R:=\{r_0+1\}\cup\{r_n+d_Y(y_n,y_0):1\leq n< N\}
> $$
> 显然这是个基数为$N$的集合，于是它应该存在一个最大元素$\max(R)$，我们记有$r:=\max(R)$。从而我们可以将上面的结论总结有：对任意的正整数$n$与任意的$x\in X$，我们有：
> $$
> d_Y(f_n(x),y_0)
> \leq
> \left.\begin{cases}
> d(f_n(x),y_n)+d_Y(y_n,y_0)<r_n+d_Y(y_n,y_0)&\text{if}\;n< N\\
> d(f_n(x),f(x))+d_Y(f(x),y_0)<r_0+1&\text{if}\;n\geq N
> \end{cases}\right\}
> \leq r
> $$
> 即对任意的正整数$n$与任意的$x\in X$，都有$f_n(x)\in B_{(Y,d_Y)}(y_0,r)$。于是即有函数序列$f_n$是一致连续的，结论得证。

---

## 本节相关跳转

[实分析 7.3 非负数的和](..\..\第7章\md\实分析 7.3 非负数的和.md)

[实分析 12.1 定义和例子](..\..\第12章\md\实分析 12.1 定义和例子.md)

[实分析 14.3 一致收敛性与连续性](..\..\第14章\md\实分析 14.3 一致收敛性与连续性.md)